# üîß –ö–û–ú–ê–ù–î–ê –î–õ–Ø CURSOR: –ü–†–û–í–ï–†–ö–ê –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú –° RENDER

## üìã –ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø CURSOR

–°–∫–æ–ø–∏—Ä—É–π –∏ –æ—Ç–ø—Ä–∞–≤—å —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –≤ Cursor:

---

**–ü—Ä–æ–≤–µ—Ä—å –∏ –∏—Å–ø—Ä–∞–≤—å –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–µ–ø–ª–æ–µ–º –Ω–∞ Render:**

1. **–ü—Ä–æ–≤–µ—Ä—å `index.js`** - —É–±–µ–¥–∏—Å—å, —á—Ç–æ:
   - Health check —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ü–ï–†–í–´–ú (–¥–æ –∑–∞–ø—É—Å–∫–∞ Python –±–æ—Ç–∞)
   - Health check –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/health` –∏ `/` —Å JSON `{"status":"ok","service":"telegram-bot","timestamp":"..."}`
   - Health check —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É –∏–∑ `process.env.PORT` –∏–ª–∏ 10000
   - Health check —Å–ª—É—à–∞–µ—Ç –Ω–∞ `0.0.0.0` (–Ω–µ localhost!)
   - –ï—Å—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º Python –±–æ—Ç–∞ (–º–∏–Ω–∏–º—É–º 1 —Å–µ–∫—É–Ω–¥–∞)
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ (unbuffered)

2. **–ü—Ä–æ–≤–µ—Ä—å `Dockerfile`**:
   - Health check –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è: `CMD node -e "require('http').get('http://localhost:10000/health', (r) => {process.exit(r.statusCode === 200 ? 0 : 1)})"`
   - PORT —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è: `ENV PORT=10000`
   - Python —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
   - –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

3. **–ü—Ä–æ–≤–µ—Ä—å `package.json`**:
   - –°–∫—Ä–∏–ø—Ç `start` –∑–∞–ø—É—Å–∫–∞–µ—Ç `node index.js`
   - –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

4. **–ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - —É–±–µ–¥–∏—Å—å, —á—Ç–æ –≤ –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
   - `TELEGRAM_BOT_TOKEN` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è
   - `KIE_API_KEY` - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è
   - `DATABASE_URL` - –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (–∏–∑ Render Connections)
   - `ADMIN_ID` - ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - `PORT` - –ø–æ—Ä—Ç –¥–ª—è health check (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10000)

5. **–ü—Ä–æ–≤–µ—Ä—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**:
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `process.env.DATABASE_URL` (Python: `os.getenv('DATABASE_URL')`)
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è connection pooling (asyncpg.create_pool –¥–ª—è Python, pg.Pool –¥–ª—è Node.js)
   - –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - –í—Å–µ SQL –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç parameterized queries

6. **–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - Python –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `PYTHONUNBUFFERED=1` –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
   - Node.js –≤—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ —Å—Ä–∞–∑—É
   - –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

7. **–ü—Ä–æ–≤–µ—Ä—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫**:
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–ø—É—Å–∫–∞ Python –±–æ—Ç–∞ - health check –≤—Å–µ —Ä–∞–≤–Ω–æ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å
   - Graceful shutdown –ø—Ä–∏ SIGTERM/SIGINT
   - –û—à–∏–±–∫–∏ –Ω–µ –∫—Ä–∞—à–∞—Ç –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Å—Ä–∞–∑—É

8. **–°–æ–∑–¥–∞–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** `check_render_config.py`:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å KIE API
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ health check —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –í—ã–≤–æ–¥–∏—Ç –æ—Ç—á–µ—Ç –æ –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö

9. **–ò—Å–ø—Ä–∞–≤—å –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**:
   - –ï—Å–ª–∏ health check –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º - –ø–µ—Ä–µ–º–µ—Å—Ç–∏ –µ–≥–æ –∑–∞–ø—É—Å–∫ –≤ –Ω–∞—á–∞–ª–æ
   - –ï—Å–ª–∏ –ø–æ—Ä—Ç –∑–∞–Ω—è—Ç - –¥–æ–±–∞–≤—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–∫–∏ EADDRINUSE
   - –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç - –¥–æ–±–∞–≤—å –ø—Ä–æ–≤–µ—Ä–∫—É —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
   - –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è - –ø—Ä–æ–≤–µ—Ä—å DATABASE_URL –∏ connection pooling

10. **–£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤**:
    - –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (DATABASE_URL)
    - –ù–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è
    - –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

**–í–∞–∂–Ω–æ:**
- Health check –î–û–õ–ñ–ï–ù –æ—Ç–≤–µ—á–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞
- Health check –î–û–õ–ñ–ï–ù —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –µ—Å–ª–∏ Python –±–æ—Ç –µ—â–µ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
- –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ Render Dashboard ‚Üí Environment Variables
- DATABASE_URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑ Render Connections (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è)

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ health check –æ—Ç–≤–µ—á–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–¥ –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ Render

---

## üöÄ –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨ –õ–û–ö–ê–õ–¨–ù–û

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∑–∞–ø—É—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python check_render_config.py

# –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ (–∫–∞–∫ –Ω–∞ Render)
npm start

# –ü—Ä–æ–≤–µ—Ä–∫–∞ health check
curl http://localhost:10000/health
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è JSON:
```json
{
  "status": "ok",
  "service": "telegram-bot",
  "timestamp": "2025-12-16T12:00:00.000Z"
}
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –î–ï–ü–õ–û–ï–ú

- [ ] Health check –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ `/health` –∏ `/`
- [ ] Health check –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º (–¥–æ Python –±–æ—Ç–∞)
- [ ] –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] DATABASE_URL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–∏–∑ Render Connections)
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- [ ] KIE API –¥–æ—Å—Ç—É–ø–µ–Ω (–ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ API –∫–ª—é—á)
- [ ] –õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- [ ] –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Å—Ç–∞–Ω—Å–∞—Ö
- [ ] –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è connection pooling –¥–ª—è –ë–î

---

## üîç –ß–ê–°–¢–´–ï –ü–†–û–ë–õ–ï–ú–´

1. **Health check –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**:
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ü–ï–†–í–´–ú
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø–æ—Ä—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (PORT –∏–ª–∏ 10000)
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å–ª—É—à–∞–µ—Ç –Ω–∞ 0.0.0.0, –∞ –Ω–µ localhost

2. **–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å—Ç–∞—Ä—Ç**:
   - –ü—Ä–æ–≤–µ—Ä—å TELEGRAM_BOT_TOKEN
   - –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Python –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏–ª—Å—è

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è**:
   - –ü—Ä–æ–≤–µ—Ä—å DATABASE_URL –≤ Environment Variables
   - –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Connection —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Render Dashboard
   - –ü—Ä–æ–≤–µ—Ä—å connection pooling

4. **–†–∞–∑–Ω—ã–µ –∏–Ω—Å—Ç–∞–Ω—Å—ã –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è**:
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç DATABASE_URL
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
   - –í—Å–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
