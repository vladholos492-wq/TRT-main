# üöÄ Production Ready ‚Äî TRT (KIE –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä)

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –∫ –±–æ–µ–≤–æ–º—É –¥–µ–ø–ª–æ—é –Ω–∞ **Render Web Service** –≤ —Ä–µ–∂–∏–º–µ **Telegram Webhook**.
–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: `main_render.py` (—Å–º. `Dockerfile`).

## ‚úÖ –ß—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è ¬´–±–æ–µ–≤–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å—é¬ª

- –°–µ—Ä–≤–∏—Å —Å—Ç–∞–±–∏–ª—å–Ω–æ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –Ω–∞ Render (–ø–æ—Ä—Ç `PORT`)
- `GET /health` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200
- Webhook Telegram —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ `https://<service>.onrender.com/webhook/<secret>`
- –ü—Ä–∏ rolling deploy –Ω–µ—Ç ¬´–∑–∞–ª–∏–ø–∞–Ω–∏—è¬ª –≤–æ –≤—Ç–æ—Ä–æ–º –∏–Ω—Å—Ç–∞–Ω—Å–µ: –ø–∞—Å—Å–∏–≤–Ω—ã–π –∂–¥—ë—Ç lock –∏ —Å–∞–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º

## üîë –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Render ‚Üí Environment)

```env
ADMIN_ID=...
BOT_MODE=webhook
DATABASE_URL=...
DB_MAXCONN=15
KIE_API_KEY=...
PAYMENT_BANK=...
PAYMENT_CARD_HOLDER=...
PAYMENT_PHONE=...
PORT=10000
SUPPORT_TELEGRAM=...
SUPPORT_TEXT=...
TELEGRAM_BOT_TOKEN=...
WEBHOOK_BASE_URL=https://<your-service>.onrender.com
WEBHOOK_SECRET_TOKEN=...
```

### –ü—Ä–æ `WEBHOOK_SECRET_PATH`

- –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞.
- –ï—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω–∞ ‚Äî —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–∑ `TELEGRAM_BOT_TOKEN` (—É–±–∏—Ä–∞–µ–º `:` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É).
- –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏ —á—Ç–æ–±—ã –Ω–µ –ª–æ–≤–∏—Ç—å ¬´—Ç–∏—Ö–∏–µ 404¬ª –Ω–∞ `/webhook/...`.

## üß™ –ß–µ–∫-–ª–∏—Å—Ç –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. –û—Ç–∫—Ä–æ–π `https://<your-service>.onrender.com/health` ‚Üí **200 OK**
2. –ù–∞–ø–∏—à–∏ –±–æ—Ç—É `/start` ‚Üí –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å
3. –í –ª–æ–≥–∞—Ö Render –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ –ø—Ä–æ –∑–∞–ø—É—Å–∫ aiohttp –∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É webhook (–±–µ–∑ –æ—à–∏–±–æ–∫)

