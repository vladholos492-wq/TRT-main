# Сохранение данных при деплое - 100% ГАРАНТИЯ

## ✅ Важно! Файлы данных сохраняются между деплоями

Все данные пользователей сохраняются в JSON файлах, которые **НЕ удаляются** при обновлении кода и повторном деплое.

**См. также:** `DATA_PERSISTENCE_GUARANTEE.md` - полное описание механизмов защиты данных.

## Файлы данных (сохраняются):

- `user_balances.json` - балансы всех пользователей
- `payments.json` - история всех платежей (включая скриншоты с file_id)
- `generations_history.json` - история генераций пользователей
- `user_languages.json` - языковые настройки пользователей
- `daily_free_generations.json` - бесплатные генерации
- `promocodes.json` - промокоды
- `referrals.json` - реферальная система
- `broadcasts.json` - статистика рассылок
- `blocked_users.json` - заблокированные пользователи
- `admin_limits.json` - лимиты админов
- `currency_rate.json` - курс валют
- `gift_claimed.json` - подарки
- `knowledge_store/entries.json` - база знаний

## На Render.com:

Файлы данных сохраняются на диске между деплоями. При обновлении кода:
- ✅ Файлы данных **НЕ удаляются**
- ✅ Балансы пользователей **сохраняются**
- ✅ История платежей **сохраняется**
- ✅ История генераций **сохраняется**
- ✅ Все другие данные **сохраняются**

## Важно:

- Файлы данных **НЕ** находятся в `.gitignore` (кроме `package-lock.json`)
- Все данные сохраняются в корне проекта
- При деплое файлы остаются на диске и не перезаписываются

