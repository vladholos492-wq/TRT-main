# PRICING FORMULA - –§–ò–ö–°–ò–†–û–í–ê–ù–ù–ê–Ø –§–û–†–ú–£–õ–ê –¶–ï–ù–û–û–ë–†–ê–ó–û–í–ê–ù–ò–Ø

**–°–¢–ê–¢–£–°**: üîí –ó–ê–§–ò–ö–°–ò–†–û–í–ê–ù–û –ù–ê–í–°–ï–ì–î–ê (2025-12-25)

## –§–æ—Ä–º—É–ª–∞

```
–¶–ï–ù–ê_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Æ_RUB = (USD_–ó–ê_–ö–†–ï–î–ò–¢ √ó 79) √ó 2
```

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–ù–ï –ò–ó–ú–ï–ù–Ø–Æ–¢–°–Ø!)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|----------|
| **USD_TO_RUB** | `79.0` | –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—É—Ä—Å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ |
| **MARKUP_MULTIPLIER** | `2.0` | –ù–∞—Ü–µ–Ω–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **1 –∫—Ä–µ–¥–∏—Ç Kie.ai** | `$0.005` | –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å 1 –∫—Ä–µ–¥–∏—Ç–∞ |

### –†–∞—Å—á–µ—Ç —Ü–µ–Ω—ã 1 –∫—Ä–µ–¥–∏—Ç–∞

1. **–¶–µ–Ω–∞ Kie.ai (–±–µ–∑ –Ω–∞—Ü–µ–Ω–∫–∏)**:
   ```
   0.005 USD √ó 79 = 0.395 RUB
   ```

2. **–¶–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (—Å –Ω–∞—Ü–µ–Ω–∫–æ–π √ó2)**:
   ```
   0.395 RUB √ó 2 = 0.79 RUB
   ```

**–ò—Ç–æ–≥–æ**: 1 –∫—Ä–µ–¥–∏—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è = **0.79 RUB**

## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á–µ—Ç–∞

### –ü–∞–∫–µ—Ç 20 –∫—Ä–µ–¥–∏—Ç–æ–≤ –∑–∞ $0.1

- **USD —Ü–µ–Ω–∞**: 0.1 USD
- **–¶–µ–Ω–∞ Kie.ai**: 0.1 √ó 79 = 7.9 RUB
- **–¶–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**: 7.9 √ó 2 = **15.8 RUB**
- **–ó–∞ 1 –∫—Ä–µ–¥–∏—Ç**: 15.8 / 20 = 0.79 RUB ‚úÖ

### –ü–∞–∫–µ—Ç 60 –∫—Ä–µ–¥–∏—Ç–æ–≤ –∑–∞ $0.3

- **USD —Ü–µ–Ω–∞**: 0.3 USD
- **–¶–µ–Ω–∞ Kie.ai**: 0.3 √ó 79 = 23.7 RUB
- **–¶–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**: 23.7 √ó 2 = **47.4 RUB**
- **–ó–∞ 1 –∫—Ä–µ–¥–∏—Ç**: 47.4 / 60 = 0.79 RUB ‚úÖ

### –ü–∞–∫–µ—Ç 24 –∫—Ä–µ–¥–∏—Ç–∞ –∑–∞ $0.12

- **USD —Ü–µ–Ω–∞**: 0.12 USD
- **–¶–µ–Ω–∞ Kie.ai**: 0.12 √ó 79 = 9.48 RUB
- **–¶–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**: 9.48 √ó 2 = **18.96 RUB**
- **–ó–∞ 1 –∫—Ä–µ–¥–∏—Ç**: 18.96 / 24 = 0.79 RUB ‚úÖ

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### SOURCE_OF_TRUTH.json

–•—Ä–∞–Ω–∏—Ç **—Ü–µ–Ω—É Kie.ai –ë–ï–ó –Ω–∞—Ü–µ–Ω–∫–∏**:

```json
{
  "models": {
    "elevenlabs/speech-to-text": {
      "pricing": {
        "usd_per_gen": 3.0,
        "rub_per_gen": 237.0,    // 3.0 √ó 79 = 237 (–ë–ï–ó –Ω–∞—Ü–µ–Ω–∫–∏!)
        "credits_per_gen": 600.0
      }
    }
  }
}
```

### app/payments/pricing.py

–ü—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–∞—Ü–µ–Ω–∫—É √ó2:

```python
# –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–§–ò–ö–°–ò–†–û–í–ê–ù–´!)
USD_TO_RUB = 79.0
MARKUP_MULTIPLIER = 2.0

def calculate_user_price(kie_cost_rub: float) -> float:
    """–¶–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é = –¶–µ–Ω–∞ Kie.ai √ó 2"""
    return kie_cost_rub * MARKUP_MULTIPLIER
```

## –ü—Ä–∏–º–µ—Ä—ã –º–æ–¥–µ–ª–µ–π

| –ú–æ–¥–µ–ª—å | USD | Kie.ai RUB | User RUB | Credits |
|--------|-----|------------|----------|---------|
| z-image | $0 | 0 | **0** | 0 (FREE) |
| elevenlabs/speech-to-text | $3 | 237 | **474** | 600 |
| bytedance/seedream | $10 | 790 | **1580** | 2000 |
| kling/v2-1-master-text-to-video | $100 | 7900 | **15800** | 20000 |

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏

```python
# –¢–µ—Å—Ç: 1 –∫—Ä–µ–¥–∏—Ç = 0.79 RUB –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
credit_usd = 0.005
kie_cost = credit_usd * 79  # 0.395 RUB
user_cost = kie_cost * 2     # 0.79 RUB
assert user_cost == 0.79, "–§–æ—Ä–º—É–ª–∞ –Ω–∞—Ä—É—à–µ–Ω–∞!"
```

## –ü–æ—á–µ–º—É –∫—É—Ä—Å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω?

1. **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ü–µ–Ω**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ü–µ–Ω—ã
2. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ù–µ –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å –¶–ë –†–§
3. **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å**: –¶–µ–Ω—ã –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∫–æ–ª–µ–±–∞–Ω–∏—è—Ö –∫—É—Ä—Å–∞
4. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è**: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã

## –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã

‚ö†Ô∏è **–ó–ê–ü–†–ï–©–ï–ù–û –ò–ó–ú–ï–ù–Ø–¢–¨**:
- `USD_TO_RUB = 79.0`
- `MARKUP_MULTIPLIER = 2.0`

–≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –≤:
- `app/payments/pricing.py` (–æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞)
- `models/KIE_SOURCE_OF_TRUTH.json` (–≤—Å–µ 72 –º–æ–¥–µ–ª–∏)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

–õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫:
- ‚ùå –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—é —Ü–µ–Ω –≤ –±–∞–∑–µ
- ‚ùå –ü—É—Ç–∞–Ω–∏—Ü–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ùå –û—à–∏–±–∫–∞–º –≤ –±–∏–ª–ª–∏–Ω–≥–µ

## –ò—Å—Ç–æ—Ä–∏—è

- **2025-12-25**: –§–æ—Ä–º—É–ª–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ (–∫—É—Ä—Å 79 RUB/USD, –Ω–∞—Ü–µ–Ω–∫–∞ √ó2)
- **–ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫—É—Ä—Å (78.0-78.44)

---

üîí **–≠–¢–û–¢ –î–û–ö–£–ú–ï–ù–¢ –Ø–í–õ–Ø–ï–¢–°–Ø –ó–ê–ö–û–ù–û–ú –ü–†–û–ï–ö–¢–ê**

–õ—é–±—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª—ã —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑:
1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
2. –ü–µ—Ä–µ—Å—á–µ—Ç –í–°–ï–• 72 –º–æ–¥–µ–ª–µ–π –≤ SOURCE_OF_TRUTH
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `pricing.py`
4. –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–ª–∏–Ω–≥–∞
5. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–î–∞—Ç–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏**: 2025-12-25  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–°—Ç–∞—Ç—É—Å**: LOCKED üîí
