# üîß –ù–ê–°–¢–†–û–ô–ö–ê WEBHOOK –î–õ–Ø TELEGRAM –ë–û–¢–ê –ù–ê RENDER

## –î–∞—Ç–∞: 2025-12-18

---

## üìã –ò–ù–§–û–†–ú–ê–¶–ò–Ø

- **URL –¥–µ–ø–ª–æ—è:** https://five656.onrender.com
- **–¢–æ–∫–µ–Ω –±–æ—Ç–∞:** `8524869517:AAEqLyZ3guOUoNsAnmkkKTTX56MoKW2f30Y`

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: POLLING VS WEBHOOK

**–¢–µ–∫—É—â–∏–π –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç POLLING (long polling), –∞ –Ω–µ webhook.**

### Polling (—Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º):
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Render Free tier
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ HTTPS endpoint
- ‚úÖ –ü—Ä–æ—â–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –∫–æ–≥–¥–∞ –∏–Ω—Å—Ç–∞–Ω—Å "–∑–∞—Å—ã–ø–∞–µ—Ç"

### Webhook:
- ‚ùå –¢—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π HTTPS endpoint
- ‚ùå –ù–∞ Free tier –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å (–∏–Ω—Å—Ç–∞–Ω—Å –∑–∞—Å—ã–ø–∞–µ—Ç)
- ‚ùå –ù—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –∫–æ–¥–µ
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω (–µ—Å–ª–∏ –∏–Ω—Å—Ç–∞–Ω—Å –≤—Å–µ–≥–¥–∞ –∞–∫—Ç–∏–≤–µ–Ω)

---

## üîß –ï–°–õ–ò –ù–£–ñ–ï–ù WEBHOOK

### –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ webhook –≤ –∫–æ–¥–µ

–¢–µ–∫—É—â–∏–π –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Application.run_polling()`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç polling —Ä–µ–∂–∏–º.

–î–ª—è webhook –Ω—É–∂–Ω–æ:
1. –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ –Ω–∞ `Application.run_webhook()`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook —á–µ—Ä–µ–∑ API

### –®–ê–ì 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook —á–µ—Ä–µ–∑ API

**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:**

```bash
curl -F "url=https://five656.onrender.com/webhook" \
  https://api.telegram.org/bot8524869517:AAEqLyZ3guOUoNsAnmkkKTTX56MoKW2f30Y/setWebhook
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:**

```
https://api.telegram.org/bot8524869517:AAEqLyZ3guOUoNsAnmkkKTTX56MoKW2f30Y/setWebhook?url=https://five656.onrender.com/webhook
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ webhook:**

```bash
curl https://api.telegram.org/bot8524869517:AAEqLyZ3guOUoNsAnmkkKTTX56MoKW2f30Y/getWebhookInfo
```

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´ –° WEBHOOK –ù–ê RENDER FREE TIER

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ò–Ω—Å—Ç–∞–Ω—Å –∑–∞—Å—ã–ø–∞–µ—Ç

–ù–∞ Render Free tier –∏–Ω—Å—Ç–∞–Ω—Å –∑–∞—Å—ã–ø–∞–µ—Ç –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –ü—Ä–∏ —ç—Ç–æ–º:
- ‚ùå Webhook –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚ùå Telegram –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç–∞–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚ùå –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç 50+ —Å–µ–∫—É–Ω–¥

### –†–µ—à–µ–Ω–∏–µ:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Polling** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Free tier)
2. **–ò–ª–∏ Upgrade –¥–æ Paid tier** (–∏–Ω—Å—Ç–∞–Ω—Å –≤—Å–µ–≥–¥–∞ –∞–∫—Ç–∏–≤–µ–Ω)

---

## ‚úÖ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: –û–°–¢–ê–í–ò–¢–¨ POLLING

**–î–ª—è Render Free tier —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å POLLING:**

1. ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –¥–∞–∂–µ –∫–æ–≥–¥–∞ –∏–Ω—Å—Ç–∞–Ω—Å –∑–∞—Å—ã–ø–∞–µ—Ç
2. ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è
4. ‚úÖ –ü—Ä–æ—â–µ –≤ –æ—Ç–ª–∞–¥–∫–µ

**–¢–µ–∫—É—â–∏–π –∫–æ–¥ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ polling –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!**

---

## üîç –ü–†–û–í–ï–†–ö–ê –¢–ï–ö–£–©–ï–ì–û –†–ï–ñ–ò–ú–ê

### –ü—Ä–æ–≤–µ—Ä–∫–∞ webhook (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):

```bash
curl https://api.telegram.org/bot8524869517:AAEqLyZ3guOUoNsAnmkkKTTX56MoKW2f30Y/getWebhookInfo
```

**–ï—Å–ª–∏ webhook –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç:**
```json
{
  "ok": true,
  "result": {
    "url": "",
    "has_custom_certificate": false,
    "pending_update_count": 0
  }
}
```

**–ï—Å–ª–∏ webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç:**
```json
{
  "ok": true,
  "result": {
    "url": "https://five656.onrender.com/webhook",
    "has_custom_certificate": false,
    "pending_update_count": 0
  }
}
```

### –£–¥–∞–ª–µ–Ω–∏–µ webhook (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ polling):

```bash
curl https://api.telegram.org/bot8524869517:AAEqLyZ3guOUoNsAnmkkKTTX56MoKW2f30Y/deleteWebhook
```

---

## üìã –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –£–°–¢–ê–ù–û–í–ö–ï WEBHOOK (–ï–°–õ–ò –ù–£–ñ–ù–û)

### –®–ê–ì 1: –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ –±–æ—Ç–∞

–í `bot_kie.py` –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

**–ë—ã–ª–æ:**
```python
app.run_polling()
```

**–°—Ç–∞–ª–æ:**
```python
# –î–ª—è webhook
app.run_webhook(
    listen="0.0.0.0",
    port=int(os.getenv("PORT", 10000)),
    url_path=os.getenv("TELEGRAM_BOT_TOKEN"),
    webhook_url=f"https://five656.onrender.com/{os.getenv('TELEGRAM_BOT_TOKEN')}"
)
```

### –®–ê–ì 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook

```bash
curl -F "url=https://five656.onrender.com/8524869517:AAEqLyZ3guOUoNsAnmkkKTTX56MoKW2f30Y" \
  https://api.telegram.org/bot8524869517:AAEqLyZ3guOUoNsAnmkkKTTX56MoKW2f30Y/setWebhook
```

---

## ‚ö†Ô∏è –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

**–í–ê–ñ–ù–û:** –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –±—ã–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **–ò–∑–º–µ–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω** –≤ BotFather
2. **–•—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è** (–Ω–µ –≤ –∫–æ–¥–µ)
3. **–ù–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

## ‚úÖ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º POLLING, —Ç–∞–∫ –∫–∞–∫:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –Ω–∞ Render Free tier
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç "–∑–∞—Å—ã–ø–∞–Ω–∏–µ" –∏–Ω—Å—Ç–∞–Ω—Å–∞

**–ï—Å–ª–∏ –Ω—É–∂–µ–Ω webhook:**
- ‚ö†Ô∏è Upgrade –¥–æ Paid tier –Ω–∞ Render
- ‚ö†Ô∏è –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ –±–æ—Ç–∞
- ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å endpoint

---

**–ì–æ—Ç–æ–≤–æ! üöÄ**

