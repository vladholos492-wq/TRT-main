# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è grok-imagine/image-to-video

## üìã –û–±–∑–æ—Ä

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ `grok-imagine/image-to-video` —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ KIE AI API.

## üîó API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **URL —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏**: `POST https://api.kie.ai/api/v1/jobs/createTask`
- **URL —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏**: `GET https://api.kie.ai/api/v1/jobs/recordInfo?taskId={taskId}`
- **–ú–æ–¥–µ–ª—å**: `grok-imagine/image-to-video` (–∏–ª–∏ `grok/imagine` –≤ –∫–∞—Ç–∞–ª–æ–≥–µ)

## üìù –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|----------|-----|----------|-------------|
| `model` | string | ID –º–æ–¥–µ–ª–∏ | `"grok-imagine/image-to-video"` |

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|-----|----------|----------------------|
| `input.image_urls` | array | –ú–∞—Å—Å–∏–≤ URL –≤–Ω–µ—à–Ω–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | `[]` (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤) |
| `input.task_id` | string | ID –∑–∞–¥–∞—á–∏ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –æ—Ç Grok | –ù–µ —É–∫–∞–∑–∞–Ω |
| `input.index` | number | –ò–Ω–¥–µ–∫—Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (0-5, 0-based) | `0` |
| `input.prompt` | string | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –≤–∏–¥–µ–æ | –ù–µ —É–∫–∞–∑–∞–Ω |
| `input.mode` | string | –†–µ–∂–∏–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | `"normal"` |
| `callBackUrl` | string | URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ | –ù–µ —É–∫–∞–∑–∞–Ω (–Ω–µ—Ç callback) |

### –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

#### `image_urls`
- –¢–∏–ø: –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ (array of strings)
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- –§–æ—Ä–º–∞—Ç: `["https://example.com/image.jpg"]`
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ!
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 10MB
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPEG, PNG, WebP
- Default: `[]` (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤)
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –¢–æ–ª—å–∫–æ –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ! –ù–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å `task_id`!

#### `task_id`
- –¢–∏–ø: string
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- –ú–∞–∫—Å–∏–º—É–º: 100 —Å–∏–º–≤–æ–ª–æ–≤
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –ù–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å `image_urls`! –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–∂–∏–º "spicy"!

#### `index`
- –¢–∏–ø: number (integer)
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- –î–∏–∞–ø–∞–∑–æ–Ω: 0-5 (0-based)
- Default: `0`
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å `task_id`! –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `image_urls`!

#### `prompt`
- –¢–∏–ø: string
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- –ú–∞–∫—Å–∏–º—É–º: 5000 —Å–∏–º–≤–æ–ª–æ–≤
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –ú–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤!

#### `mode`
- –¢–∏–ø: string
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- –ó–Ω–∞—á–µ–Ω–∏—è:
  - `"fun"` - Fun —Ä–µ–∂–∏–º
  - `"normal"` - Normal —Ä–µ–∂–∏–º (default)
  - `"spicy"` - Spicy —Ä–µ–∂–∏–º
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –†–µ–∂–∏–º "spicy" –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (`image_urls`)!

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –∫–æ–¥–µ

### –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `app/services/kie_input_builder.py`:

```python
def _validate_grok_imagine_image_to_video(
    model_id: str,
    normalized_input: Dict[str, Any]
) -> Tuple[bool, Optional[str]]:
    """
    –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª—è grok-imagine/image-to-video —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API.
    """
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö ID –º–æ–¥–µ–ª–∏
    if model_id not in ["grok-imagine/image-to-video", "grok/imagine"]:
        return True, None
    
    # –í–ê–ñ–ù–û: –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã! –ù–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω—ã.
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è image_urls: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ (—Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
    image_urls = normalized_input.get('image_urls')
    if image_urls is not None:
        normalized_image_urls = _normalize_image_urls_for_wan_2_6(image_urls)
        if normalized_image_urls is not None:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ!)
            if len(normalized_image_urls) > 1:
                return False, f"–ü–æ–ª–µ 'image_urls' –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ URL –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å http:// –∏–ª–∏ https://
            url = normalized_image_urls[0]
            if not (url.startswith('http://') or url.startswith('https://')):
                return False, "URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å http:// –∏–ª–∏ https://"
            
            normalized_input['image_urls'] = normalized_image_urls
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è task_id: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π string (–º–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤)
    task_id = normalized_input.get('task_id')
    if task_id is not None:
        task_id = str(task_id).strip()
        if len(task_id) > 100:
            return False, f"–ü–æ–ª–µ 'task_id' —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ: {len(task_id)} —Å–∏–º–≤–æ–ª–æ–≤ (–º–∞–∫—Å–∏–º—É–º 100)"
        normalized_input['task_id'] = task_id
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è index: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π number (0-5, 0-based)
    index = normalized_input.get('index')
    if index is not None:
        try:
            index_num = int(index)
            if index_num < 0 or index_num > 5:
                return False, f"–ü–æ–ª–µ 'index' –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º –æ—Ç 0 –¥–æ 5"
            normalized_input['index'] = index_num
        except (ValueError, TypeError):
            return False, f"–ü–æ–ª–µ 'index' –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º –æ—Ç 0 –¥–æ 5"
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è prompt: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π string (–º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤)
    prompt = normalized_input.get('prompt')
    if prompt is not None:
        prompt_len = len(prompt.strip())
        if prompt_len > 5000:
            return False, f"–ü–æ–ª–µ 'prompt' —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ: {prompt_len} —Å–∏–º–≤–æ–ª–æ–≤ (–º–∞–∫—Å–∏–º—É–º 5000)"
        normalized_input['prompt'] = prompt.strip() if prompt_len > 0 else None
    
    # –í–∞–ª–∏–¥–∞—Ü–∏—è mode: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π string ("fun", "normal", "spicy")
    mode = normalized_input.get('mode')
    if mode is not None:
        normalized_mode = _normalize_mode_for_grok_imagine(mode)
        if normalized_mode is None:
            return False, f"–ü–æ–ª–µ 'mode' –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 'fun', 'normal' –∏–ª–∏ 'spicy'"
        normalized_input['mode'] = normalized_mode
    
    # –í–ê–ñ–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    # image_urls –∏ task_id –Ω–µ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
    has_image_urls = normalized_input.get('image_urls') is not None and len(normalized_input.get('image_urls', [])) > 0
    has_task_id = normalized_input.get('task_id') is not None and normalized_input.get('task_id')
    
    if has_image_urls and has_task_id:
        return False, "–ü–æ–ª—è 'image_urls' –∏ 'task_id' –Ω–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ"
    
    # index —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å task_id
    has_index = normalized_input.get('index') is not None
    if has_index and not has_task_id:
        return False, "–ü–æ–ª–µ 'index' –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–µ —Å 'task_id'"
    
    # mode "spicy" –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (image_urls)
    if has_image_urls and normalized_input.get('mode') == 'spicy':
        return False, "–†–µ–∂–∏–º 'spicy' –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (image_urls)"
    
    return True, None
```

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è mode

–§—É–Ω–∫—Ü–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä:

```python
def _normalize_mode_for_grok_imagine(value: Any) -> Optional[str]:
    """
    –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç mode –¥–ª—è grok-imagine/image-to-video.
    –í–ê–ñ–ù–û: –î–ª—è grok-imagine –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ "fun", "normal", "spicy"!
    """
    valid_values = ["fun", "normal", "spicy"]
    # –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
    ...
```

### –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã, –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç—ã:

```python
if model_id in ["grok-imagine/image-to-video", "grok/imagine"]:
    if 'index' not in normalized_input:
        normalized_input['index'] = 0  # Default —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
    if 'mode' not in normalized_input:
        normalized_input['mode'] = "normal"  # Default —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
```

### Callback URL

Callback URL –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `KIE_CALLBACK_URL`:

```python
def get_callback_url() -> Optional[str]:
    """
    –ü–æ–ª—É—á–∞–µ—Ç callback URL –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫.
    """
    settings = get_settings()
    callback_url = getattr(settings, 'kie_callback_url', None)
    if not callback_url:
        import os
        callback_url = os.getenv('KIE_CALLBACK_URL')
    return callback_url
```

## üìä –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å image_urls

```json
{
  "model": "grok-imagine/image-to-video",
  "input": {
    "image_urls": ["https://file.aiquickdraw.com/custom-page/akr/section-images/1762247692373tw5di116.png"],
    "prompt": "POV hand comes into frame handing the girl a cup of take away coffee, the girl steps out of the screen looking tired, then takes it and she says happily: \"thanks! Back to work\"",
    "mode": "normal"
  },
  "callBackUrl": "https://your-domain.com/api/callback"
}
```

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å task_id

```json
{
  "model": "grok-imagine/image-to-video",
  "input": {
    "task_id": "281e5b0*********************f39b9",
    "index": 0,
    "prompt": "POV hand comes into frame handing the girl a cup of take away coffee",
    "mode": "spicy"
  },
  "callBackUrl": "https://your-domain.com/api/callback"
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "taskId": "281e5b0*********************f39b9"
  }
}
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

1. **–í–∞–ª–∏–¥–∞—Ü–∏—è image_urls**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á—Ç–æ —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∏–º –≤–∞–ª–∏–¥–Ω—ã–º URL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è task_id**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–ª–∏–Ω–∞ (–º–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤) (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è index**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á—Ç–æ —ç—Ç–æ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 5 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è prompt**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–ª–∏–Ω–∞ (–º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤) (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
5. **–í–∞–ª–∏–¥–∞—Ü–∏—è mode**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ "fun", "normal" –∏–ª–∏ "spicy" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
6. **–í–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á—Ç–æ `image_urls` –∏ `task_id` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
7. **index —Å task_id**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á—Ç–æ `index` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å `task_id`
8. **spicy —Å image_urls**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á—Ç–æ —Ä–µ–∂–∏–º "spicy" –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
9. **–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**: –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã (index=0, mode="normal")
10. **Callback URL**: –ü–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ API –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

## üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤):

```
MODEL=grok-imagine/image-to-video TYPE=i2v INPUT_KEYS=['image_urls', 'prompt', 'mode'] 
INPUT_PREVIEW={'image_urls': ['https://...'], 'prompt': 'POV hand comes...', 'mode': 'normal'}
```

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `app/services/kie_input_builder.py` - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `app/kie_catalog/input_schemas.py` - –°—Ö–µ–º—ã –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `app/integrations/kie_client.py` - KIE API –∫–ª–∏–µ–Ω—Ç
- `app/kie_catalog/models_pricing.yaml` - –ö–∞—Ç–∞–ª–æ–≥ –º–æ–¥–µ–ª–µ–π –∏ —Ü–µ–Ω

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã** - –Ω–∏ –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º!
2. **image_urls —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - –º–∞—Å—Å–∏–≤ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç!
3. **image_urls –∏ task_id –≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏–µ** - –Ω–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!
4. **index —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å task_id** - –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è image_urls!
5. **spicy –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å image_urls** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ task_id –¥–ª—è —Ä–µ–∂–∏–º–∞ "spicy"!
6. **prompt –º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
7. **task_id –º–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
8. **index –æ—Ç 0 –¥–æ 5** - 0-based –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
9. **–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**: index=0, mode="normal"
10. **Callback URL –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω** - –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
11. **ID –º–æ–¥–µ–ª–∏**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: "grok-imagine/image-to-video" –∏ "grok/imagine"

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å wan/2-6-image-to-video

| –ü–∞—Ä–∞–º–µ—Ç—Ä | wan/2-6-image-to-video | grok-imagine/image-to-video |
|----------|------------------------|-----------------------------|
| `prompt` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π, 2-5000 —Å–∏–º–≤–æ–ª–æ–≤ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤ |
| `image_urls` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ (—Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ!) |
| `task_id` | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π (–≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏–π —Å image_urls) |
| `index` | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π (—Ç–æ–ª—å–∫–æ —Å task_id) |
| `mode` | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π ("fun", "normal", "spicy") |
| `duration` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π, "5"\|"10"\|"15" | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è |
| `resolution` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π, "720p"\|"1080p" | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è |
| –¢–∏–ø –º–æ–¥–µ–ª–∏ | i2v | i2v |

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å kling-2.6/image-to-video

| –ü–∞—Ä–∞–º–µ—Ç—Ä | kling-2.6/image-to-video | grok-imagine/image-to-video |
|----------|--------------------------|-----------------------------|
| `prompt` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π, max 1000 | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, max 5000 |
| `image_urls` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ (—Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ!) |
| `sound` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π boolean | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è |
| `duration` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π, "5"\|"10" | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è |
| `task_id` | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π |
| `mode` | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π ("fun", "normal", "spicy") |
| –¢–∏–ø –º–æ–¥–µ–ª–∏ | i2v | i2v |

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è

1. **–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã**: –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π, –Ω–∏ –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º!
2. **–î–≤–∞ —Å–ø–æ—Å–æ–±–∞ –≤–≤–æ–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**: –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏–±–æ `image_urls` (–≤–Ω–µ—à–Ω–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ), –ª–∏–±–æ `task_id` (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç Grok)
3. **–í–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**: `image_urls` –∏ `task_id` –Ω–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
4. **index —Ç–æ–ª—å–∫–æ —Å task_id**: –ü–∞—Ä–∞–º–µ—Ç—Ä `index` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å `task_id`
5. **spicy —Ä–µ–∂–∏–º**: –†–µ–∂–∏–º "spicy" –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (`image_urls`)
6. **–¢–æ–ª—å–∫–æ –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: `image_urls` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
7. **–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è**: index=0, mode="normal"
8. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–æ–∏—Ö ID**: –†–∞–±–æ—Ç–∞–µ—Ç —Å "grok-imagine/image-to-video" –∏ "grok/imagine"

