# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ideogram/v3-text-to-image

## üìã –û–±–∑–æ—Ä

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏ `ideogram/v3-text-to-image` —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ KIE AI API.

## üîó API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **URL —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏**: `POST https://api.kie.ai/api/v1/jobs/createTask`
- **URL —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏**: `GET https://api.kie.ai/api/v1/jobs/recordInfo?taskId={taskId}`
- **–ú–æ–¥–µ–ª—å**: `ideogram/v3-text-to-image`

## üìù –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
|----------|-----|----------|-------------|
| `model` | string | ID –º–æ–¥–µ–ª–∏ | `"ideogram/v3-text-to-image"` |
| `input.prompt` | string | –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π, –º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤ |

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|-----|----------|----------------------|
| `input.rendering_speed` | string | –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ | `"BALANCED"` |
| `input.style` | string | –¢–∏–ø —Å—Ç–∏–ª—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. –ù–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å style_codes | `"AUTO"` |
| `input.expand_prompt` | boolean | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –¥–æ–ª–∂–µ–Ω –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è MagicPrompt –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ | `true` |
| `input.image_size` | string | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | `"square_hd"` |
| `input.seed` | number | Seed –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª | –ù–µ —É–∫–∞–∑–∞–Ω |
| `input.negative_prompt` | string | –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ —Å–ª–µ–¥—É–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç—å –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –û–ø–∏—Å–∞–Ω–∏—è –≤ prompt –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ –≤ negative_prompt | `""` (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞) |
| `callBackUrl` | string | URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ | –ù–µ —É–∫–∞–∑–∞–Ω (–Ω–µ—Ç callback) |

### –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

#### `prompt`
- –¢–∏–ø: string
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –¥–∞
- –ú–∞–∫—Å–∏–º—É–º: 5000 —Å–∏–º–≤–æ–ª–æ–≤
- **–í–∞–∂–Ω–æ**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º! –ú–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤!

#### `rendering_speed`
- –¢–∏–ø: string
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- –ó–Ω–∞—á–µ–Ω–∏—è: `"TURBO"`, `"BALANCED"`, `"QUALITY"`
- Default: `"BALANCED"`
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –¢–æ–ª—å–∫–æ 3 —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è (enum)! Default: `"BALANCED"`! –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞!

#### `style`
- –¢–∏–ø: string
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- –ó–Ω–∞—á–µ–Ω–∏—è: `"AUTO"`, `"GENERAL"`, `"REALISTIC"`, `"DESIGN"`
- Default: `"AUTO"`
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –¢–æ–ª—å–∫–æ 4 —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏—è (enum)! Default: `"AUTO"`! –¢–∏–ø —Å—Ç–∏–ª—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏! –ù–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å style_codes!

#### `expand_prompt`
- –¢–∏–ø: boolean
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- Default: `true`
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! Boolean! Default: `true`! –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –¥–æ–ª–∂–µ–Ω –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è MagicPrompt –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞!

#### `image_size`
- –¢–∏–ø: string
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- –ó–Ω–∞—á–µ–Ω–∏—è: `"square"`, `"square_hd"`, `"portrait_4_3"`, `"portrait_16_9"`, `"landscape_4_3"`, `"landscape_16_9"`
- Default: `"square_hd"`
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –¢–æ–ª—å–∫–æ 6 —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (enum)! Default: `"square_hd"`! –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è!

#### `seed`
- –¢–∏–ø: number
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –ß–∏—Å–ª–æ! Seed –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª!

#### `negative_prompt`
- –¢–∏–ø: string
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π: –Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)
- –ú–∞–∫—Å–∏–º—É–º: 5000 —Å–∏–º–≤–æ–ª–æ–≤
- Default: `""` (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞!)
- **–í–∞–∂–Ω–æ**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä! –ú–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤! Default: `""` (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞!)! –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ —Å–ª–µ–¥—É–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç—å –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è! –û–ø–∏—Å–∞–Ω–∏—è –≤ prompt –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ –≤ negative_prompt!

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | ideogram/v3-text-to-image | ideogram/character | ideogram/v3-reframe |
|----------|---------------------------|-------------------|---------------------|
| `prompt` | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π (max 5000) | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π (max 5000) | ‚ùå –ù–µ—Ç |
| `image_url` | ‚ùå –ù–µ—Ç | ‚ùå –ù–µ—Ç | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π |
| `reference_image_urls` | ‚ùå –ù–µ—Ç | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π (–º–∞—Å—Å–∏–≤) | ‚ùå –ù–µ—Ç |
| `rendering_speed` | ‚úÖ –ï—Å—Ç—å (enum, default "BALANCED") | ‚úÖ –ï—Å—Ç—å (enum, default "BALANCED") | ‚úÖ –ï—Å—Ç—å (enum, default "BALANCED") |
| `style` | ‚úÖ –ï—Å—Ç—å (enum, default "AUTO") | ‚úÖ –ï—Å—Ç—å (enum, default "AUTO") | ‚úÖ –ï—Å—Ç—å (enum, default "AUTO") |
| `expand_prompt` | ‚úÖ –ï—Å—Ç—å (boolean, default true) | ‚úÖ –ï—Å—Ç—å (boolean, default true) | ‚ùå –ù–µ—Ç |
| `image_size` | ‚úÖ –ï—Å—Ç—å (enum, default "square_hd") | ‚úÖ –ï—Å—Ç—å (enum, default "square_hd") | ‚úÖ –ï—Å—Ç—å (enum, default "square_hd") |
| `seed` | ‚úÖ –ï—Å—Ç—å (number) | ‚úÖ –ï—Å—Ç—å (number) | ‚úÖ –ï—Å—Ç—å (number) |
| `negative_prompt` | ‚úÖ –ï—Å—Ç—å (max 5000, default "") | ‚úÖ –ï—Å—Ç—å (max 5000, default "") | ‚ùå –ù–µ—Ç |
| `num_images` | ‚ùå –ù–µ—Ç | ‚úÖ –ï—Å—Ç—å (enum, default "1") | ‚úÖ –ï—Å—Ç—å (enum, default "1") |

**–í–ê–ñ–ù–û**: 
- –≠—Ç–æ –º–æ–¥–µ–ª—å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ —Ç–µ–∫—Å—Ç–∞ (text-to-image) - V3 –≤–µ—Ä—Å–∏—è!
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `rendering_speed` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç—å—é —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (enum: TURBO/BALANCED/QUALITY, default BALANCED)!
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `style` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∏–ø–æ–º —Å—Ç–∏–ª—è (enum: AUTO/GENERAL/REALISTIC/DESIGN, default AUTO)! –ù–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å style_codes!
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `expand_prompt` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è MagicPrompt (boolean, default true)!
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `image_size` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º (enum, 6 –∑–Ω–∞—á–µ–Ω–∏–π, default square_hd)!
- `negative_prompt` –∏–º–µ–µ—Ç –º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤ (–±–æ–ª—å—à–µ, —á–µ–º —É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π!) –∏ default "" (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞!)!
- `prompt` –∏–º–µ–µ—Ç –º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤!
- –ù–ï–¢ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `reference_image_urls`, `num_images` (–µ—Å—Ç—å –≤ ideogram/character)!
- –ù–ï–¢ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `image_url` (–µ—Å—Ç—å –≤ ideogram/v3-reframe)!

## üîß –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –í–∞–ª–∏–¥–∞—Ü–∏—è

–§—É–Ω–∫—Ü–∏—è `_validate_ideogram_v3_text_to_image()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

1. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å `prompt`**: –ü–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–æ, –Ω–µ –ø—É—Å—Ç–æ–µ, –º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤
2. **–ó–Ω–∞—á–µ–Ω–∏–µ `rendering_speed`**: –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑ 3 –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, enum)
3. **–ó–Ω–∞—á–µ–Ω–∏–µ `style`**: –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑ 4 –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, enum)
4. **–ó–Ω–∞—á–µ–Ω–∏–µ `expand_prompt`**: –î–æ–ª–∂–Ω–æ –±—ã—Ç—å boolean (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)
5. **–ó–Ω–∞—á–µ–Ω–∏–µ `image_size`**: –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑ 6 –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, enum)
6. **–ó–Ω–∞—á–µ–Ω–∏–µ `seed`**: –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)
7. **–î–ª–∏–Ω–∞ `negative_prompt`**: –ú–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

1. **`rendering_speed`**: –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `_normalize_rendering_speed_for_ideogram_character_edit()`
2. **`style`**: –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `_normalize_style_for_ideogram_character_edit()`
3. **`expand_prompt`**: –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `_normalize_boolean()`
4. **`image_size`**: –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `_normalize_image_size_for_qwen_image_edit()`
5. **`seed`**: –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ —á–∏—Å–ª–æ (int –µ—Å–ª–∏ —Ü–µ–ª–æ–µ, float –µ—Å–ª–∏ –¥—Ä–æ–±–Ω–æ–µ)
6. **`negative_prompt`**: –û–±—Ä–µ–∑–∞–µ—Ç—Å—è –¥–æ 5000 —Å–∏–º–≤–æ–ª–æ–≤, default ""

### –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã, –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è:
```python
if 'rendering_speed' not in normalized_input:
    normalized_input['rendering_speed'] = "BALANCED"  # Default —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
if 'style' not in normalized_input:
    normalized_input['style'] = "AUTO"  # Default —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
if 'expand_prompt' not in normalized_input:
    normalized_input['expand_prompt'] = True  # Default —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
if 'image_size' not in normalized_input:
    normalized_input['image_size'] = "square_hd"  # Default —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
if 'negative_prompt' not in normalized_input:
    normalized_input['negative_prompt'] = ""  # Default —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞!)
```

## üìä –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞–ø—Ä–æ—Å

```json
{
  "model": "ideogram/v3-text-to-image",
  "input": {
    "prompt": "A cinematic photograph of a tranquil lakeside at twilight, viewed from a slight elevation. In the center, a cluster of softly glowing reeds and water lilies emit a gentle, golden light, their reflections shimmering on the calm surface. The elegant neon-style white text 'Kie.ai' hovers just above the water, subtly illuminated and harmonizing with the natural glow. Surrounding willows and drifting mist frame the scene, creating a serene yet magical atmosphere, with warm highlights contrasting against the cool blues of the evening sky.",
    "rendering_speed": "BALANCED",
    "style": "AUTO",
    "expand_prompt": true,
    "image_size": "square_hd",
    "seed": 42,
    "negative_prompt": ""
  }
}
```

### –û—Ç–≤–µ—Ç

```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "taskId": "281e5b0*********************f39b9"
  }
}
```

## üö® –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| `–ü–æ–ª–µ 'prompt' –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ...` | `prompt` –Ω–µ —É–∫–∞–∑–∞–Ω | –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `–ü–æ–ª–µ 'prompt' –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º` | `prompt` –ø—É—Å—Ç–æ–π | –í–≤–µ–¥–∏—Ç–µ –Ω–µ–ø—É—Å—Ç–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `–ü–æ–ª–µ 'prompt' —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ...` | `prompt` –±–æ–ª—å—à–µ 5000 —Å–∏–º–≤–æ–ª–æ–≤ | –°–æ–∫—Ä–∞—Ç–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ 5000 —Å–∏–º–≤–æ–ª–æ–≤ |
| `–ü–æ–ª–µ 'rendering_speed' –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑...` | –ù–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `rendering_speed` | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω–æ –∏–∑: TURBO, BALANCED, QUALITY |
| `–ü–æ–ª–µ 'style' –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑...` | –ù–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `style` | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω–æ –∏–∑: AUTO, GENERAL, REALISTIC, DESIGN |
| `–ü–æ–ª–µ 'expand_prompt' –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å boolean...` | –ù–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `expand_prompt` | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ true –∏–ª–∏ false |
| `–ü–æ–ª–µ 'image_size' –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑...` | –ù–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `image_size` | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–Ω–æ –∏–∑: square, square_hd, portrait_4_3, portrait_16_9, landscape_4_3, landscape_16_9 |
| `–ü–æ–ª–µ 'seed' –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º...` | –ù–µ–≤–µ—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `seed` | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–∏—Å–ª–æ |
| `–ü–æ–ª–µ 'negative_prompt' —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ...` | `negative_prompt` –±–æ–ª—å—à–µ 5000 —Å–∏–º–≤–æ–ª–æ–≤ | –°–æ–∫—Ä–∞—Ç–∏—Ç–µ –¥–æ 5000 —Å–∏–º–≤–æ–ª–æ–≤ |

## üìù –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–¥

–ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `build_input()`:

```python
from app.services.kie_input_builder import build_input
from app.kie_catalog import get_model

model_spec = get_model("ideogram/v3-text-to-image")
user_payload = {
    "prompt": "A cinematic photograph of a tranquil lakeside at twilight...",
    "rendering_speed": "BALANCED",
    "style": "AUTO",
    "expand_prompt": True,
    "image_size": "square_hd",
    "seed": 42,
    "negative_prompt": ""
}

input_dict, error = build_input(model_spec, user_payload)
if error:
    print(f"–û—à–∏–±–∫–∞: {error}")
else:
    print(f"Input: {input_dict}")
```

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- [x] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É–∂–µ –µ—Å—Ç—å –≤ —Å—Ö–µ–º–µ `t2i` (rendering_speed, style, expand_prompt, image_size, seed, negative_prompt)
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_validate_ideogram_v3_text_to_image()`
- [x] –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö ideogram –º–æ–¥–µ–ª–µ–π
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ `build_input()`
- [x] –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- [x] –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤):

```
MODEL=ideogram/v3-text-to-image TYPE=t2i INPUT_KEYS=['prompt', 'rendering_speed', 'style', 'expand_prompt', 'image_size', 'seed', 'negative_prompt'] 
INPUT_PREVIEW={'prompt': 'A cinematic photograph...', 'rendering_speed': 'BALANCED', 'style': 'AUTO', 'expand_prompt': True, 'image_size': 'square_hd', 'seed': 42, 'negative_prompt': ''}
```

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `app/services/kie_input_builder.py` - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `app/kie_catalog/input_schemas.py` - –°—Ö–µ–º—ã –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- `app/integrations/kie_client.py` - KIE API –∫–ª–∏–µ–Ω—Ç
- `app/kie_catalog/models_pricing.yaml` - –ö–∞—Ç–∞–ª–æ–≥ –º–æ–¥–µ–ª–µ–π –∏ —Ü–µ–Ω

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **prompt –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π** - –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤)
2. **rendering_speed –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π** - –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π! –¢–æ–ª—å–∫–æ 3 –∑–Ω–∞—á–µ–Ω–∏—è (enum: TURBO, BALANCED, QUALITY), default "BALANCED"! –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞!
3. **style –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π** - –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π! –¢–æ–ª—å–∫–æ 4 –∑–Ω–∞—á–µ–Ω–∏—è (enum: AUTO, GENERAL, REALISTIC, DESIGN), default "AUTO"! –¢–∏–ø —Å—Ç–∏–ª—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏! –ù–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–µ —Å style_codes!
4. **expand_prompt –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π** - –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π! Boolean, default true! –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –¥–æ–ª–∂–µ–Ω –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è MagicPrompt –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞!
5. **image_size –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π** - –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π! –¢–æ–ª—å–∫–æ 6 –∑–Ω–∞—á–µ–Ω–∏–π (enum), default "square_hd"! –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è!
6. **seed –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π** - –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π! –ß–∏—Å–ª–æ! Seed –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª!
7. **negative_prompt –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π** - –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π! –ú–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤, default "" (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞!)! –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ —Å–ª–µ–¥—É–µ—Ç –∏—Å–∫–ª—é—á–∏—Ç—å –∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è! –û–ø–∏—Å–∞–Ω–∏—è –≤ prompt –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ –≤ negative_prompt!
8. **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `rendering_speed`, `style`, `expand_prompt`, `image_size` –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö `width`, `height`, `guidance`, `steps`, `num_images`!
9. **–ù–ï–¢ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** - –º–æ–¥–µ–ª—å –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `reference_image_urls` (–µ—Å—Ç—å –≤ ideogram/character), `image_url` (–µ—Å—Ç—å –≤ ideogram/v3-reframe), `num_images` (–µ—Å—Ç—å –≤ ideogram/character –∏ ideogram/v3-reframe)!
10. **prompt max 5000** - `prompt` –∏–º–µ–µ—Ç –º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤!
11. **negative_prompt max 5000** - `negative_prompt` –∏–º–µ–µ—Ç –º–∞–∫—Å–∏–º—É–º 5000 —Å–∏–º–≤–æ–ª–æ–≤ (–±–æ–ª—å—à–µ, —á–µ–º —É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π!)!

