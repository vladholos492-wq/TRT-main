# SOURCE OF TRUTH GUIDE

## üéØ –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø: "–ü–ê–†–°–ò –°–ê–ô–¢!–ò–ù–°–¢–†–£–ö–¶–ò–ò!"

**Kie.ai Copy page - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π.**

## üìå –ß—Ç–æ —Ç–∞–∫–æ–µ SOURCE_OF_TRUTH?

`models/KIE_SOURCE_OF_TRUTH.json` - –º–∞—Å—Ç–µ—Ä-—Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ –º–æ–¥–µ–ª—è–º–∏ Kie.ai:
- **72 –º–æ–¥–µ–ª–∏** (100% –ø–æ–∫—Ä—ã—Ç–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —á–µ—Ä–µ–∑ Copy page)
- –°–ø–∞—Ä—Å–µ–Ω—ã **–µ–¥–∏–Ω–æ–∂–¥—ã** –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –º–æ–¥–µ–ª–µ–π
- **–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã** –∏ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –û–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞

```json
{
  "version": "1.0.0-MASTER-SOURCE-OF-TRUTH",
  "timestamp": "2024-12-24T00:00:00Z",
  "total_models": 72,
  "models": {
    "model-id": {
      "model_id": "vendor/model-name",
      "display_name": "Human-readable name",
      "description": "What this model does",
      "category": "image|video|audio|enhance|music|avatar|other",
      "provider": "vendor",
      
      "endpoint": "/api/v1/jobs/createTask",
      "source_url": "https://kie.ai/model-slug",
      
      "examples": [
        {
          "input": {
            "prompt": "example prompt",
            "param": "value"
          }
        }
      ],
      
      "input_schema": {
        "model": {...},
        "input": {
          "type": "dict",
          "examples": [...] | "properties": {...}
        }
      },
      
      "pricing": {
        "usd_per_gen": 0.004,
        "rub_per_gen": 0.63,
        "is_free": false
      },
      
      "tags": ["tag1", "tag2"],
      "ui_example_prompts": ["Example 1", "Example 2"]
    }
  }
}
```

## üìñ –ö–∞–∫ –±—ã–ª —Å–æ–∑–¥–∞–Ω SOURCE_OF_TRUTH

### –®–∞–≥ 1: –ü–∞—Ä—Å–∏–Ω–≥ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π –∏–∑ Copy page

–°–∫—Ä–∏–ø—Ç: `scripts/master_kie_parser.py`

```bash
python3 scripts/master_kie_parser.py
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –û–±—Ö–æ–¥–∏—Ç –≤—Å–µ –º–æ–¥–µ–ª–∏ –Ω–∞ kie.ai
2. –î–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏ –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ Copy page (API tab):
   - model_id (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π ID)
   - endpoint
   - examples (–ø–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤)
   - input_schema (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)
   - pricing (—Ü–µ–Ω—ã –≤ USD)
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `models/KIE_SOURCE_OF_TRUTH.json`

**–í–ê–ñ–ù–û:** –ü–∞—Ä—Å–µ—Ä –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ.

### –®–∞–≥ 2: –û–±–æ–≥–∞—â–µ–Ω–∏–µ UX –¥–∞–Ω–Ω—ã–º–∏

–°–∫—Ä–∏–ø—Ç: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ AUTOPILOT

**–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è:**
- `tags`: –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ model_id, category, description
- `ui_example_prompts`: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è UI
- `category`: —É–ª—É—á—à–µ–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è (image, video, enhance –∏ —Ç.–¥.)

### –®–∞–≥ 3: –í–∞–ª–∏–¥–∞—Ü–∏—è

–°–∫—Ä–∏–ø—Ç—ã:
- `scripts/dry_run_test.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö 72 –º–æ–¥–µ–ª–µ–π (100%)
- `scripts/e2e_test_free_model.py` - —Ä–µ–∞–ª—å–Ω—ã–µ API —Ç–µ—Å—Ç—ã

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SOURCE_OF_TRUTH

### –í –∫–æ–¥–µ –±–æ—Ç–∞

```python
from app.kie.builder import load_source_of_truth

# –ó–∞–≥—Ä—É–∑–∫–∞
sot = load_source_of_truth()

# –ü–æ–ª—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
model = sot['models']['qwen/text-to-image']

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
display_name = model['display_name']
pricing = model['pricing']
examples = model['examples']
```

### –í UI (marketing menu)

```python
from app.ui.marketing_menu import build_ui_tree

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SOURCE_OF_TRUTH
tree = build_ui_tree()

# tree = {
#   "visuals": [models for image generation],
#   "video_creatives": [models for video],
#   ...
# }
```

## üîÑ –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å SOURCE_OF_TRUTH

### –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ?

- Kie.ai –¥–æ–±–∞–≤–∏–ª –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
- –ò–∑–º–µ–Ω–∏–ª–∏—Å—å —Ü–µ–Ω—ã –º–æ–¥–µ–ª–µ–π
- –ò–∑–º–µ–Ω–∏–ª–∏—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–µ–π
- –î–æ–±–∞–≤–∏–ª–∏—Å—å –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

1. **–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è**:
```bash
cp models/KIE_SOURCE_OF_TRUTH.json models/KIE_SOURCE_OF_TRUTH.backup.json
```

2. **–ü–æ–≤—Ç–æ—Ä–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥**:
```bash
python3 scripts/master_kie_parser.py
```

3. **–û–±–æ–≥–∞—â–µ–Ω–∏–µ** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å UX enrichment –µ—Å–ª–∏ –Ω—É–∂–Ω—ã —Ç–µ–≥–∏/–ø—Ä–æ–º–ø—Ç—ã
# –û–±—ã—á–Ω–æ —É–∂–µ –µ—Å—Ç—å –≤ —Ñ–∞–π–ª–µ
```

4. **–í–∞–ª–∏–¥–∞—Ü–∏—è**:
```bash
python3 scripts/dry_run_test.py
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: **72/72 (100%)** ‚úÖ

5. **E2E —Ç–µ—Å—Ç** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```bash
python3 scripts/e2e_test_free_model.py
```

6. **–ö–æ–º–º–∏—Ç**:
```bash
git add models/KIE_SOURCE_OF_TRUTH.json
git commit -m "üîÑ UPDATE: SOURCE_OF_TRUTH –æ–±–Ω–æ–≤–ª–µ–Ω"
git push
```

## ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è SOURCE_OF_TRUTH

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

–ö–∞–∂–¥–∞—è –º–æ–¥–µ–ª—å –î–û–õ–ñ–ù–ê –∏–º–µ—Ç—å:
- ‚úÖ `model_id` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π ID
- ‚úÖ `display_name` - —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
- ‚úÖ `endpoint` - API endpoint
- ‚úÖ `examples` - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–º–∏–Ω–∏–º—É–º 1)
- ‚úÖ `input_schema` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ `pricing` - —Ü–µ–Ω—ã (usd_per_gen, rub_per_gen)
- ‚úÖ `category` - –∫–∞—Ç–µ–≥–æ—Ä–∏—è
- ‚úÖ `source_url` - —Å—Å—ã–ª–∫–∞ –Ω–∞ Copy page

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è (—É–ª—É—á—à–∞—é—Ç UX)

- `tags` - —Ç–µ–≥–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞
- `ui_example_prompts` - –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤
- `description` - –æ–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

```bash
# Dry-run –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
python3 scripts/dry_run_test.py

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ –£—Å–ø–µ—à–Ω–æ: 72/72 (100%)
```

## üé® FREE –º–æ–¥–µ–ª–∏

**–¢–û–ü-5 —Å–∞–º—ã—Ö –¥–µ—à–µ–≤—ã—Ö = –±–µ—Å–ø–ª–∞—Ç–Ω—ã –≤ –±–æ—Ç–µ**

–¢–µ–∫—É—â–∏–µ FREE –º–æ–¥–µ–ª–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
1. z-image (0.63 RUB)
2. qwen/text-to-image (0.63 RUB)
3. qwen/image-to-image (0.63 RUB)
4. qwen/image-edit (0.63 RUB)
5. elevenlabs/speech-to-text (474.00 RUB)

**–ö–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è:**
- –ü–æ–ª–µ `pricing.is_free: true` –≤ SOURCE_OF_TRUTH
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –¥–ª—è 5 —Å–∞–º—ã—Ö –¥–µ—à–µ–≤—ã—Ö

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ü–æ–∫—Ä—ã—Ç–∏–µ (–ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é –Ω–∞ 24.12.2024)

- **–í—Å–µ–≥–æ –º–æ–¥–µ–ª–µ–π**: 72
- **Copy page coverage**: 100%
- **Dry-run tests**: 72/72 (100%)
- **E2E tests**: 3/5 FREE –º–æ–¥–µ–ª–µ–π (60%)
- **–¢–µ–≥–∏**: 70/72 (97%)
- **UI –ø—Ä–∏–º–µ—Ä—ã**: 52/72 (72%)

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏

- image: 31 –º–æ–¥–µ–ª–µ–π
- video: 19 –º–æ–¥–µ–ª–µ–π
- other: 8 –º–æ–¥–µ–ª–µ–π
- enhance: 6 –º–æ–¥–µ–ª–µ–π
- audio: 4 –º–æ–¥–µ–ª–µ–π
- music: 2 –º–æ–¥–µ–ª–µ–π
- avatar: 2 –º–æ–¥–µ–ª–µ–π

## üîí –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ù–ï –î–ï–õ–ê–¢–¨:

‚ùå –í—Ä—É—á–Ω—É—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å SOURCE_OF_TRUTH (–∫—Ä–æ–º–µ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤)
‚ùå –ü—Ä–∏–¥—É–º—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –º–æ–¥–µ–ª–µ–π
‚ùå –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å pricing –∏–∑ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
‚ùå –î–æ–±–∞–≤–ª—è—Ç—å –º–æ–¥–µ–ª–∏ –±–µ–∑ Copy page

### –î–ï–õ–ê–¢–¨:

‚úÖ –í—Å–µ–≥–¥–∞ –ø–∞—Ä—Å–∏—Ç—å –∏–∑ Copy page
‚úÖ –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚úÖ –î–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ FREE –º–æ–¥–µ–ª—è—Ö
‚úÖ –ö–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Git

## üö® Troubleshooting

### –ú–æ–¥–µ–ª—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å dry-run —Ç–µ—Å—Ç:
```bash
python3 scripts/dry_run_test.py
```

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å E2E —Ç–µ—Å—Ç (–µ—Å–ª–∏ FREE):
```bash
python3 scripts/e2e_test_free_model.py
```

3. –°—Ä–∞–≤–Ω–∏—Ç—å —Å Copy page –Ω–∞ kie.ai

4. –ï—Å–ª–∏ Copy page –∏–∑–º–µ–Ω–∏–ª—Å—è - –æ–±–Ω–æ–≤–∏—Ç—å SOURCE_OF_TRUTH

### Pricing –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç

1. –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ kie.ai
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∫–ª–∞–¥–∫—É Pricing
3. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è - –∑–∞–ø—É—Å—Ç–∏—Ç—å parser –∑–∞–Ω–æ–≤–æ
4. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –Ω–∞ Kie.ai

1. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –µ—Å—Ç—å Copy page —Å API –≤–∫–ª–∞–¥–∫–æ–π
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `master_kie_parser.py`
3. –û–±–æ–≥–∞—Ç–∏—Ç—å —Ç–µ–≥–∏/–ø—Ä–æ–º–ø—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å dry-run
5. E2E —Ç–µ—Å—Ç –µ—Å–ª–∏ FREE
6. –ö–æ–º–º–∏—Ç

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `models/KIE_SOURCE_OF_TRUTH.json` - –º–∞—Å—Ç–µ—Ä-—Ñ–∞–π–ª
- `scripts/master_kie_parser.py` - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
- `scripts/dry_run_test.py` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- `scripts/e2e_test_free_model.py` - —Ä–µ–∞–ª—å–Ω—ã–µ API —Ç–µ—Å—Ç—ã
- `app/kie/builder.py` - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ payload –∏–∑ SOURCE_OF_TRUTH
- `app/kie/validator.py` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `app/ui/marketing_menu.py` - UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## üéØ –§–∏–ª–æ—Å–æ—Ñ–∏—è

**"–ï–¥–∏–Ω–æ–∂–¥—ã —Å–ø–∞—Ä—Å–∏—Ç—å, –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∑–¥–µ"**

- Copy page - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–∞–≤–¥–∞
- SOURCE_OF_TRUTH - –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π snapshot
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 24.12.2024  
**–í–µ—Ä—Å–∏—è**: 1.0.0-MASTER-SOURCE-OF-TRUTH  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ PRODUCTION READY
